---
layout: default
title: "About"
permalink: /donations.html
---


<!-- Page Functions -->
<script type="text/javascript">
function numfy(val) {
  // http://stackoverflow.com/a/2901298

  var parts = val.toString().split(".");
  parts[0] = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ",");
  return parts.join(".");
}

function curfy(val) {
  return "$" + numfy(val.toFixed(2))
}
</script>
<!-- Page Functions -->



<!-- Total Donations -->
<p>
<input value="" class="amethyst-flat-button" id="totaldonations" disabled>
</p>
<!--  -->

<!-- Donations Progress Bar -->
<p>
<input value="" class="alizarin-flat-button" id="currentdonations" disabled>
</p>
<!--  -->

<!--  -->
<p>
<input type="submit" value="Donate" class="peter-river-flat-button">
</p>
<!--  -->

<!--  -->
<h1>
  Recent Sponsors
</h1>
<!-- {% assign ntime = 'now' | date: '%s' | plus: 0 %} -->
{% assign stime = 'now' | date: '%s' | minus: 604800 | date: '%s' | plus: 0 %}
{% assign zero = 0 | plus: 0 %}
{% assign datetitle = '' %}

<ul>
{% for sponsor in site.data.sponsors reversed %}

  {% assign ptime = sponsor.date | date: '%s' | plus: 0 | minus: stime %}

  {% if ptime < zero %}
    {% break %}
  {% endif %}

  {% if sponsor.date != datetitle %}
    {% assign datetitle = sponsor.date %}
    <li>
      <strong>
        {% assign d = sponsor.date | date: "%-d" %}
        {{ sponsor.date | date: "%b" }}
        {% case d %}
          {% when "1" or "21" or "31" %}
            {{ d }}st,
          {% when "2" or "22" %}
            {{ d }}nd,
          {% when "3" or "23" %}
            {{ d }}rd,
          {% else %}
            {{ d }}th,
        {% endcase %}
        {{ sponsor.date | date: "%Y" }}
      </strong>
    </li>
  {% endif %}

  <li>
    &nbsp&nbsp&nbsp
    <strong>
      {{ sponsor.name }}:
    </strong>
    &nbsp&nbsp&nbsp
    <script type="text/javascript">
      document.write(curfy({{ sponsor.amount }}))
    </script>
  </li>
{% endfor %}
</ul>
<!--  -->



<h1>
  Donation Calculations
</h1>
<!-- Tempered Immortal Table -->
<table>
  <th>
    <strong>
      Tempered Immortal
    </strong>
  </th>
  <tr>
    <td>
      Total Number of Characters
    </td>
    <td id="tc">
    </td>
  </tr>
  <tr>
    <td>
      Number of Chapters
    </td>
    <td id="nc">
    </td>
  </tr>
  <tr>
    <td>
      Characters per Chapter
    </td>
    <td id="cpc">
    </td>
  </tr>
  <tr>
    <td>
      Calculated Average Dollars per Character
    </td>
    <td id="average">
    </td>
  </tr>
  <tr>
    <td>
      Required Donations per Chapter
    </td>
    <td id="dpc">
    </td>
  </tr>
</table>
<!--  -->

<!-- Tables for Different Web Novels -->
<!-- {% for item in site.data.donations %}
<table>
  <th>
    <strong>
      {{ item.book }}
    </strong>
  </th>
  <tr>
    <td>
      Total Number of Characters
    </td>
    <td>
      <script type="text/javascript">
        document.write(numfy({{ item.characters }}))
      </script>
    </td>
  </tr>
  <tr>
    <td>
      Number of Chapters
    </td>
    <td>
      <script type="text/javascript">
        document.write(numfy({{ item.chapters }}))
      </script>
    </td>
  </tr>
  <tr>
    <td>
      Characters per Chapter
    </td>
    <td id="{{ item.book }}cpc">
    </td>
  </tr>
  <tr>
    <td>
      Donations per Chapter
    </td>
    <td>
      <script type="text/javascript">
        document.write(curfy({{ item.donations }}))
      </script>
    </td>
  </tr>
  <tr>
    <td>
      Dollars per Character
    </td>
    <td id="{{ item.book }}dpc">
    </td>
  </tr>
</table>
{% endfor %} -->
<!--  -->



<!-- Web Novels Count -->
<script type="text/javascript">
  count = 0;
  total = 0;
  totaldonations = 0;
  currentdonations = 0;
</script>
<!--  -->

<!-- Web Novels Stats -->
{% for item in site.data.donations %}
<script type="text/javascript">
  count += 1;
  cpc = parseInt("{{ item.characters }}") / parseInt("{{ item.chapters }}");
  dpc = parseInt("{{ item.donations }}") / cpc;
  total += dpc;

  document.getElementById("{{ item.book }}cpc").innerHTML = curfy(cpc);
  document.getElementById("{{ item.book }}dpc").innerHTML = curfy(dpc);
</script>
{% endfor %}
<!--  -->

<!-- Tempered Immortal Stats -->
<script type="text/javascript">
  var tc = 9802189;
  var nc = 4220;
  var cpc = tc / nc;
  var average = total / count;
  var dpc = cpc * average;

  document.getElementById("tc").innerHTML = numfy(tc);
  document.getElementById("nc").innerHTML = numfy(nc);
  document.getElementById("cpc").innerHTML = curfy(cpc);
  document.getElementById("average").innerHTML = curfy(average);
  document.getElementById("dpc").innerHTML = curfy(dpc);
</script>
<!--  -->



<!-- List of all Sponsors -->
<h1>
  All Sponsors
</h1>
<table>
  {% for sponsor in site.data.sponsors %}
  <tr>
    <td>
      {{ sponsor.date }}
    </td>
    <td class="left">
      <strong>
        {{ sponsor.name }}
      </strong>
    </td>
    <td>
      <script type="text/javascript">
        document.write(curfy({{ sponsor.amount }}))
        totaldonations += {{ sponsor.amount }}
      </script>
    </td>
  </tr>
{% endfor %}
</table>
<!--  -->



<!-- Set Total Donations -->
<script type="text/javascript">
  document.getElementById('totaldonations').value = "Total Donations: " + curfy(totaldonations);
</script>
<!--  -->



<!-- Set Current Donations -->
{% for chapter in site.translated %}
  <script type="text/javascript">
    if({{ chapter.sponsored }})
    {
      currentdonations += {{ chapter.characters }} * average;
    }
  </script>
{% endfor %}
<script type="text/javascript">
  document.getElementById('currentdonations').value = "Current Donations: " + curfy(totaldonations - currentdonations) + " ~ " + Math.floor((totaldonations - currentdonations) / dpc) + " Chapters";

  var percent = (totaldonations - currentdonations) / dpc;
  var classname = ""

  if(percent < 0.33)
  {
    classname = "alizarin-flat-button"
  }
  else if(percent < 0.66)
  {
    classname = "orange-flat-button"
  }
  else if(percent < 1.00)
  {
    classname = "turquoise-flat-button"
  }
  else
  {
    classname = "emerald-flat-button"
  }
  document.getElementById("currentdonations").className = classname;
</script>
<!--  -->
